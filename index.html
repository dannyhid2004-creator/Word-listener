<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Word Listener</title>
</head>
<body>

<h2>ğŸ™ï¸ Word Listener</h2>
<button id="start">Start Listening</button>

<p><strong>Listening for:</strong> schedule, penalty, touchdown</p>
<p id="text"></p>
<p id="alert" style="color:red;font-size:22px;"></p>

<audio id="beep">
  <source src="https://actions.google.com/sounds/v1/alarms/beep_short.ogg">
</audio>

<script>
const words = ["schedule","penalty","touchdown","next gen stat","Wild","Fine","Fined","Fines","Saftey","Pro Bowl","Pro Bowler","SuperBowl","Record","Trade","Traded","Roughing the Passer","Late Hit","One Handed","Tush Push","What a Catch","No Good","Turf","Hunt","Hunting"];

const SpeechRecognition =
  window.SpeechRecognition || window.webkitSpeechRecognition;

if (!SpeechRecognition) {
  alert("Speech recognition not supported. Use Safari.");
}

let recognition = new SpeechRecognition();
recognition.continuous = true;
recognition.interimResults = true;

document.getElementById("start").onclick = () => {
  recognition.start();
};

recognition.onresult = (e) => {
  const text = e.results[e.results.length-1][0].transcript.toLowerCase();
  document.getElementById("text").innerText = text;

  words.forEach(w => {
    if (text.includes(w)) {
      // Play beep
      document.getElementById("beep").play();
      
      // Alert
      document.getElementById("alert").innerText =
        `ğŸš¨ WORD DETECTED: ${w}`;

      // Save to log with timestamp
      const time = new Date().toLocaleTimeString();
      detectedLog.push({ word: w, time });
      updateLog(); // function to show log
    }
  });
};


recognition.onend = () => recognition.start();
</script>

</body>
</html>

